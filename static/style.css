:root{
  --bg: #f6f8fb;
  --panel: #ffffff;
  --muted: #6b7280;
  --accent: #06b6d4;
  --primary: #2563eb;
  --card: #ffffff;
  --surface: rgba(2,6,23,0.04);
  --glass: rgba(2,6,23,0.02);
}

body{font-family:system-ui,Segoe UI,Roboto,Helvetica,Arial;margin:0;background:var(--bg);color:#0f1724}

/* Hamburger */
.hamburger{position:fixed;left:14px;top:14px;z-index:140;background:transparent;border:none;padding:8px;display:flex;flex-direction:column;gap:6px;align-items:center;justify-content:center;cursor:pointer;width:48px;height:48px;border-radius:10px;transition:left .22s cubic-bezier(.2,.9,.3,1),background .12s ease;box-sizing:border-box;overflow:visible;margin-right:12px}
.hamburger:hover{background:rgba(15,23,36,0.03)}
.hamburger .hamburger-line{display:block;width:16px;height:2px;background:var(--muted);border-radius:2px;transition:transform .22s cubic-bezier(.2,.9,.3,1),opacity .18s ease,background .12s ease;transform-origin:center}
.hamburger.open .line1,
.hamburger.open .line2,
.hamburger.open .line3 {
	transform:none;
	opacity:1;
	background:var(--muted);
}

/* Desktop: place hamburger inside the sidebar-top so it never disappears or overlaps brand */

@media(min-width:769px){
	/* give the top of the sidebar some room */
	.sidebar .sidebar-top{position:relative;padding-top:12px;padding-bottom:12px}

	/* give the top of the sidebar some room */
	.sidebar .sidebar-top{position:relative;padding-top:12px;padding-bottom:12px}

	/* keep the toggle fixed so it's not translated off-screen when the sidebar is collapsed */
	.sidebar .hamburger{position:fixed;left:14px;top:14px;z-index:999;background:linear-gradient(180deg,rgba(15,23,36,0.02),rgba(15,23,36,0.01));padding:6px;width:44px;height:44px;border-radius:8px;display:flex;align-items:center;justify-content:center;box-shadow:0 8px 26px rgba(2,6,23,0.06)}

	/* slightly bigger/clearer bars so they're visible on dark background */
	.sidebar .hamburger .hamburger-line{background:var(--muted);width:20px}
	body.sidebar-collapsed .hamburger{left:14px}
	/* leave room in the brand so the hamburger doesn't collide visually */
	.sidebar .brand{padding-left:72px}
@media(max-width:768px){
	/* nudge the fixed toggle right when the sidebar is visible */
	body.sidebar-visible .hamburger{left:calc(260px + 18px)}
	body.sidebar-collapsed .hamburger{left:14px}
	body.sidebar-visible .hamburger{left:14px;transform:none}
}

/* For small screens keep the hamburger near the left edge but above overlay */
@media(max-width:768px){
	body.sidebar-visible .hamburger{left:14px}
}

/* Ensure hamburger sits above sidebar content */
.hamburger{z-index:120}

/* Sidebar */
.sidebar{position:fixed;left:0;top:0;bottom:0;width:260px;padding:20px;background:linear-gradient(180deg,var(--panel),#f8fafc);border-right:1px solid rgba(15,23,36,0.04);transition:transform .26s cubic-bezier(.2,.9,.3,1),box-shadow .22s ease,width .18s ease;z-index:50}
.sidebar.collapsed{transform:translateX(-96%)}
.sidebar.overlay{transform:translateX(0);box-shadow:0 18px 60px rgba(2,6,23,0.7)}
.sidebar .brand{font-weight:700;margin-bottom:14px;font-size:18px;color:#0f1724;padding-left:18px}

/* Backdrop that appears when sidebar overlay is open on mobile */
.sidebar-backdrop{position:fixed;inset:0;background:rgba(2,6,23,0.45);z-index:80}

/* Add contrast so the hamburger stands apart from the sidebar when overlapping */
.hamburger{background:linear-gradient(180deg,rgba(15,23,36,0.02),rgba(15,23,36,0.01));backdrop-filter:blur(2px);box-shadow:0 6px 20px rgba(2,6,23,0.06)}
.nav-list{list-style:none;padding:0;margin-top:8px}
.nav-list li{margin:10px 0}
.nav-list a{color:var(--muted);text-decoration:none;padding:10px 12px;display:block;border-radius:8px;transition:background .12s ease,color .12s ease,transform .12s ease}
.nav-list a:hover{background:var(--glass);color:#0f1724;transform:translateX(6px)}
.nav-list a.active{background:linear-gradient(90deg,rgba(96,165,250,0.12),rgba(96,165,250,0.06));box-shadow:inset 0 0 0 1px rgba(96,165,250,0.04);color:var(--primary);font-weight:600}

.main{margin-left:300px;padding:26px;transition:margin-left .22s ease,transform .18s ease}
/* When sidebar is visible, shift the main content slightly to the right for breathing room */
body.sidebar-visible .main{margin-left:300px}
body.sidebar-collapsed .main{margin-left:64px}

/* On narrower screens we don't shift content by the full sidebar width */
@media(max-width:1024px){
	body.sidebar-visible .main{margin-left:280px}
}
@media(max-width:768px){
	body.sidebar-visible .main{margin-left:18px}
}

header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
.header-left h1{font-size:20px;margin:0;color:#0f1724}
.header-right{display:flex;align-items:center;gap:12px}
.username{font-weight:600;color:#0f1724;padding:6px 10px;background:var(--primary);border-radius:8px}

/* Buttons and composer */
button{background:var(--primary);color:#07101a;border:none;padding:8px 12px;border-radius:8px;cursor:pointer}
button:hover{opacity:.95}
.composer textarea{width:100%;min-height:80px;padding:10px;border-radius:8px;border:1px solid rgba(15,23,36,0.06);background:var(--card);color:#0f1724}
.composer textarea:focus, .composer textarea.typing{color:#000;background:#fff}
.composer textarea::placeholder{color:var(--muted)}
.composer{margin-top:14px;display:flex;flex-direction:column;gap:8px}

/* Messages */
.messages{display:flex;flex-direction:column;gap:10px}
.message{max-width:78%;padding:12px;border-radius:12px;background:var(--card);border:1px solid rgba(15,23,36,0.06)}
.message.user{align-self:flex-end;background:linear-gradient(180deg,rgba(96,165,250,0.12),rgba(96,165,250,0.08));border-color:rgba(96,165,250,0.06);color:#081026}
.message.assistant{align-self:flex-start;background:linear-gradient(180deg,rgba(250,250,250,1),rgba(245,247,250,1));border-color:rgba(15,23,36,0.04);color:#0f1724}
.message .meta{font-size:12px;color:var(--muted);margin-bottom:6px}
.assistant-card{background:linear-gradient(180deg,rgba(255,255,255,1),#fbfdff);border-radius:10px;padding:12px;border:1px solid rgba(15,23,36,0.04);box-shadow:0 6px 18px rgba(2,6,23,0.06)}
.assistant-card strong{display:block;margin-bottom:6px;color:#0f1724}
.assistant-card ul{margin:6px 0 0 18px;color:var(--muted)}
.disclaimer{font-size:12px;color:var(--muted);margin-top:10px}

/* Responsive */
@media(max-width:768px){
	.sidebar{transform:translateX(-100%);width:260px}
	.sidebar.overlay{transform:translateX(0)}
	.main{margin-left:0;padding:16px}
	.hamburger{left:10px}
}

/* Collapsed state */
.sidebar.collapsed{width:64px;padding-left:12px;padding-right:12px}
.sidebar.collapsed .brand{font-size:0.9rem}
.sidebar.collapsed .nav-list li a{display:none}

/* Responsive: hide sidebar by default on very small screens, show toggle */
@media (max-width: 800px){
	.layout{flex-direction:column;padding:12px}
	.sidebar{width:100%;height:auto;position:relative;top:0;margin-bottom:12px}
	.sidebar.collapsed{height:auto}
}

.main{flex:1;background:linear-gradient(180deg,rgba(255,255,255,1),transparent);padding:20px;border-radius:8px}
.main header h1{margin:0}
.muted{color:var(--muted);font-size:0.9rem}
.new-chat{margin:12px 0}
.chats ul{list-style:none;padding-left:0}
.chats li{padding:8px 0;border-bottom:1px solid rgba(15,23,36,0.04)}
.messages{min-height:300px;padding:8px;border-radius:6px;overflow:auto}
.message{padding:8px;margin:6px 0;border-radius:6px}
.composer{display:flex;gap:8px}
textarea{flex:1;min-height:80px;padding:8px;border-radius:6px;border:1px solid rgba(15,23,36,0.04)}

/* Structured assistant card */
.assistant-card{background:transparent;border:1px solid rgba(15,23,36,0.04);padding:12px;border-radius:8px;margin:6px 0}
.assistant-card strong{display:block;margin-bottom:6px}
.assistant-card ul{margin:0 0 6px 18px}
.assistant-card .disclaimer{font-size:0.9rem;color:var(--muted);margin-top:8px}
